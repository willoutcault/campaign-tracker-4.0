{% extends "base.html" %}
{% block content %}
<h3>{{ 'Edit' if program else 'New' }} Program</h3>
<form method="post">
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input class="form-control" type="text" name="name" value="{{ program.name if program else '' }}" required>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3">
      <label class="form-label">Campaign</label>
      <select class="form-select" name="campaign_id" required>
        <option value="">Selectâ€¦</option>
        {% for c in campaigns %}
        <option value="{{ c.id }}" {% if program and c.id == program.campaign_id %}selected{% endif %}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-6 mb-3">
      <label class="form-label">Program Code</label>
      <input class="form-control" type="text" name="program_code" value="{{ program.program_code if program else '' }}">
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label">Target List</label>
    <select class="form-select" name="target_list_id">
      <option value="">(none)</option>
      {% for tl in target_lists %}
      <option value="{{ tl.id }}" {% if program and tl.id == program.target_list_id %}selected{% endif %}>{{ tl.label }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="row">
    <div class="col-md-3 mb-3"><label class="form-label">Start</label><input class="form-control" type="date" name="start_date" value="{{ program.start_date if program and program.start_date else '' }}"></div>
    <div class="col-md-3 mb-3"><label class="form-label">End</label><input class="form-control" type="date" name="end_date" value="{{ program.end_date if program and program.end_date else '' }}"></div>
    <div class="col-md-3 mb-3"><label class="form-label">Launch</label><input class="form-control" type="date" name="launch_date" value="{{ program.launch_date if program and program.launch_date else '' }}"></div>
    <div class="col-md-3 mb-3"><label class="form-label">Status</label><input class="form-control" type="text" name="status" value="{{ program.status if program else '' }}"></div>
  </div>
  <div class="row">
    <div class="col-md-4 mb-3"><label class="form-label">Program Type</label><input class="form-control" type="text" name="program_type" value="{{ program.program_type if program else '' }}"></div>
    <div class="col-md-4 mb-3"><label class="form-label">Content Type</label><input class="form-control" type="text" name="content_type" value="{{ program.content_type if program else '' }}"></div>
    <div class="col-md-4 mb-3"><label class="form-label">Audience Segment</label><input class="form-control" type="text" name="audience_segment" value="{{ program.audience_segment if program else '' }}"></div>
  </div>
  <div class="row">
    <div class="col-md-6 mb-3"><label class="form-label">Expected Reach</label><input class="form-control" type="number" name="expected_reach" value="{{ program.expected_reach if program else '' }}"></div>
    <div class="col-md-6 mb-3"><label class="form-label">Notes</label><input class="form-control" type="text" name="notes" value="{{ program.notes if program else '' }}"></div>
  </div>
  <button class="btn btn-primary">Save</button>
</form>
{% endblock %}